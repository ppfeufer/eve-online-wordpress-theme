!function(a){'use strict';a.fn.bootstrapGallery=function(l){var i=a.extend({},a.fn.bootstrapGallery.defaults,l),e=o(),s=i.classes,t=s.split(' '),r={};function c(){return'ul[data-bsp-ul-id="'+r.ulId+'"][data-bsp-ul-index="'+r.ulIndex+'"]'}function o(){for(var a='0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ',l=4,i='',e=0;e<l;e++)i+=a.charAt(Math.floor(Math.random()*a.length));return'bsp-'+i}function n(){if(0!==a('#bootstrapGalleryModal-'+e).length)return!1;var l='';l+='<div class="modal fade modal-bootstrap-photo-gallery" id="bootstrapGalleryModal-'+e+'" tabindex="-1" role="dialog"',l+='aria-labelledby="myModalLabel" aria-hidden="true">',l+='<div class="modal-dialog"><div class="modal-content">',l+='<div class="modal-body"></div></div></div></div>',a('body').append(l)}function d(){a(c()+' li[data-bsp-li-index]').length===r.nextImg?a('a.next').hide():a('a.next').show(),-1===r.prevImg?a('a.previous').hide():a('a.previous').show()}function b(){a('#bootstrapGalleryModal-'+e).modal('hide')}function f(){var l=a(this).find('figure').attr('data-fullsizeimage');l||(l=a(this).find('img').attr('src'));var i=a(this).find('img').attr('data-bsp-large-src'),s=a(this).find('figcaption').text();'string'==typeof i&&(l=i);var t=a(this).attr('data-bsp-li-index'),c=a(this).parent('ul').attr('data-bsp-ul-index'),o=a(this).parent('ul').attr('data-bsp-ul-id');r.img=l,r.caption=s,r.prevImg=parseInt(t)-parseInt(1),r.nextImg=parseInt(t)+parseInt(1),r.ulIndex=c,r.ulId=o,a('#bootstrapGalleryModal-'+e).modal();var n='<figure>';n+='<img src="'+r.img+'" class="img-responsive"/>',''!==r.caption&&(n+='<figcaption>',n+=r.caption,n+='<a href="'+r.img+'" title="Open Image in a new Window" class="modal-gallery open-modal-image link-external" target="_blank"><span class="glyphicon glyphicon-link"></span></a>',n+='</figcaption>'),n+='</figure>',n+='<span class="glyphicon glyphicon-remove-circle modal-close-icon"></span>',n+='<div class="modal-navigation clearfix">',n+='<a class="btn btn-default controls next pull-right" data-bsp-id="'+r.ulId+'" href="'+r.nextImg+'">next &raquo;</a>',n+='<a class="btn btn-primary controls previous pull-left" data-bsp-id="'+r.ulId+'" href="'+r.prevImg+'">&laquo; prev</a>',n+='</div>',a('#bootstrapGalleryModal-'+e+' .modal-body').html(n),a('.glyphicon-remove-circle').on('click',b),d()}function p(){var l=a(c()),i=a(this).attr('href'),e=l.find('li[data-bsp-li-index="'+i+'"] figure').attr('data-fullsizeimage');if(e||(e=l.find('li[data-bsp-li-index="'+i+'"] img').attr('src')),!e){var s=l.find('li[data-bsp-li-index="'+i+'"] img').attr('data-fullsizeimage');s||(s=l.find('li[data-bsp-li-index="'+i+'"] img').attr('src')),'string'==typeof s&&(e=s)}a('.modal-body img').attr('src',e);var t=l.find('li[data-bsp-li-index="'+i+'"] figcaption').text();return a('.modal-body figcaption').remove(),''!==t&&a('.modal-body figure').append('<figcaption>'+t+'<a href="'+e+'" title="Open Image in a new Window" class="modal-gallery open-modal-image link-external" target="_blank"><span class="glyphicon glyphicon-link"></span></a></figcaption>'),r.prevImg=parseInt(i)-1,r.nextImg=parseInt(r.prevImg)+2,a(this).hasClass('previous')?(a(this).attr('href',r.prevImg),a('a.next').attr('href',r.nextImg)):(a(this).attr('href',r.nextImg),a('a.previous').attr('href',r.prevImg)),d(),!1}function m(){a('#bootstrapGalleryModal-'+e+' .modal-body').html(''),r={}}function g(l,i){var e=i+1;a.each(t,function(i){switch(t[i]){case'col-lg-1':0===a(l).next('li.clearfix').length&&a(l).after('<li class="clearfix visible-lg-block"></li>');break;case'col-lg-2':e%6==0&&a(l).after('<li class="clearfix visible-lg-block"></li>');break;case'col-lg-3':e%4==0&&a(l).after('<li class="clearfix visible-lg-block"></li>');break;case'col-lg-4':e%3==0&&a(l).after('<li class="clearfix visible-lg-block"></li>');break;case'col-lg-5':case'col-lg-6':e%2==0&&a(l).after('<li class="clearfix visible-lg-block"></li>');break;case'col-md-1':0===a(l).next('li.clearfix').length&&a(l).after('<li class="clearfix visible-md-block"></li>');break;case'col-md-2':e%6==0&&a(l).after('<li class="clearfix visible-md-block"></li>');break;case'col-md-3':e%4==0&&a(l).after('<li class="clearfix visible-md-block"></li>');break;case'col-md-4':e%3==0&&a(l).after('<li class="clearfix visible-md-block"></li>');break;case'col-md-5':case'col-md-6':e%2==0&&a(l).after('<li class="clearfix visible-md-block"></li>');break;case'col-sm-1':0===a(l).next('li.clearfix').length&&a(l).after('<li class="clearfix visible-sm-block"></li>');break;case'col-sm-2':e%6==0&&a(l).after('<li class="clearfix visible-sm-block"></li>');break;case'col-sm-3':e%4==0&&a(l).after('<li class="clearfix visible-sm-block"></li>');break;case'col-sm-4':e%3==0&&a(l).after('<li class="clearfix visible-sm-block"></li>');break;case'col-sm-5':case'col-sm-6':e%2==0&&a(l).after('<li class="clearfix visible-sm-block"></li>');break;case'col-xs-1':0===a(l).next('li.clearfix').length&&a(l).after('<li class="clearfix visible-xs-block"></li>');break;case'col-xs-2':e%6==0&&a(l).after('<li class="clearfix visible-xs-block"></li>');break;case'col-xs-3':e%4==0&&a(l).after('<li class="clearfix visible-xs-block"></li>');break;case'col-xs-4':e%3==0&&a(l).after('<li class="clearfix visible-xs-block"></li>');break;case'col-xs-5':case'col-xs-6':e%2==0&&a(l).after('<li class="clearfix visible-xs-block"></li>')}})}return this.each(function(l){var t=a(this).find('li');a(this).attr('data-bsp-ul-id',e),a(this).attr('data-bsp-ul-index',l),t.each(function(l){g(this,l),a(this).addClass(s),a(this).attr('data-bsp-li-index',l),a(this).find('img').addClass('img-responsive'),!0===i.hasModal&&(a(this).addClass('bootstrap-gallery-modal'),a(this).on('click',f))})}),!0===i.hasModal&&(a(document).on('click','a.controls[data-bsp-id="'+e+'"]',p),a(document).on('hidden.bs.modal','#bootstrapGalleryModal-'+e,m),n()),this},a.fn.bootstrapGallery.defaults={classes:'col-lg-2 col-md-2 col-sm-3 col-xs-4',hasModal:!0}}(jQuery);
//# sourceMappingURL=jquery.bootstrap-gallery.min.js.map